//
//  LearnSwfit
//  Created by Ht.
//  Copyright Â© 2019 Ht. All rights reserved.
//

import UIKit

// Class ç±»ã€‚
// Swiftçš„ç±»æ˜¯æž„å»ºä»£ç æ‰€ç”¨çš„ä¸€ç§é€šç”¨ä¸”çµæ´»çš„æž„é€ ä½“
// å¯ä»¥ä¸ºç±»å®šä¹‰å±žæ€§(å¸¸é‡ã€å˜é‡)å’Œæ–¹æ³•
// Swiftçš„ç±»ä¸ŽOCä¸åŒçš„æ˜¯ä¸éœ€è¦åœ¨ä¸åŒçš„æ–‡ä»¶ä¸­åˆ†åˆ«å£°æ˜Žå’Œå®žçŽ°æ–¹æ³•ã€‚Swiftçš„ç±»å£°æ˜Žå’Œå®žçŽ°éƒ½åœ¨åŒä¸€ä¸ªæ–‡ä»¶é‡Œ

/*  ç±»å’Œç»“æž„ä½“çš„ç›¸åŒç‚¹
    1ã€å¯ä»¥å®šä¹‰
 */

// è¯­æ³•ï¼Œeg:
//class MothedName: SuperClass {
//    Definition 1
//    Definition 2
//    ......
//    Definition N
//}
// Swiftçš„ç±»åœ¨å¼€å‘ä¸­æ²¡æœ‰ç‰¹å®šçˆ¶ç±»æ—¶å¤§å¤šæ—¶å€™æ˜¯ç»§æ‰¿è‡ªOCç±»NSObjectï¼Œè¿™æ ·å°±èƒ½ä½¿ç”¨NSObjectçš„ä¸€äº›å±žæ€§å’Œæ–¹æ³•ï¼Œæ–¹ä¾¿ã€‚
// ä¹Ÿå¯ä»¥ä¸ç»§æ‰¿
class Animal {
    // è¯­æ³•
//    init(parameters) {
//
//    }
    // åœ¨Classä¸­åˆ†ä¸ºä¸¤ç§æž„é€ å™¨init: æŒ‡å®šæž„é€ å™¨å’Œä¾¿åˆ©æž„é€ å™¨
    // æŒ‡å®šæž„é€ å™¨: åœ¨ä¸€ä¸ªç±»ä¸­å¿…é¡»è‡³å°‘æœ‰ä¸€ä¸ª(å½“æˆ‘ä»¬çš„ç±»ç»§æ‰¿è‡ªNSObjectæ—¶ï¼ŒNSObjectå·²ç»å®šä¹‰äº†æŒ‡å®šæž„é€ å™¨ï¼Œå¯é€‰æ‹©é‡å†™æˆ–è€…ä¸é‡å†™)ï¼Œå› ä¸ºå®ƒæ˜¯ç±»çš„ä¸»è¦æž„é€ å™¨ã€‚æ‰€ä»¥ç±»çš„å®žä¾‹åˆå§‹åŒ–éƒ½ä¼šè°ƒç”¨æŒ‡å®šæž„é€ å™¨ï¼Œå½“æ²¡æœ‰è‡ªå®šä¹‰æŒ‡å®šæž„é€ å™¨æ—¶ç³»ç»Ÿä¼šé»˜è®¤ç”Ÿæˆä¸€ä¸ªä¸å¸¦å‚çš„æŒ‡å®šæž„é€ å™¨
    // ä¾¿åˆ©æž„é€ å™¨: ä½¿ç”¨å…³é”®å­—convenienceä¿®é¥°ï¼Œå±žäºŽæ¨ªå‘ä»£ç†ã€‚ä¹Ÿå°±æ˜¯è¯´åœ¨å®šä¹‰æ—¶å¿…é¡»è°ƒç”¨æœ¬ç±»çš„ä¸€ä¸ªæž„é€ å™¨(å¯ä»¥æ˜¯æŒ‡å®šæž„é€ å™¨ or ä¾¿åˆ©æž„é€ å™¨)
    // æŒ‡å®šæž„é€ å™¨
    init(name: String) {
        // åœ¨æŒ‡å®šæž„é€ å™¨ä¸­å¿…é¡»ç»™æœ¬ç±»çš„æˆå‘˜å˜é‡èµ‹ä¸Šåˆå§‹å€¼(å¦‚æžœæˆå‘˜å˜é‡æ²¡æœ‰åˆå§‹å€¼)ï¼Œä¹Ÿå°±æ˜¯è¯´åœ¨Swiftçš„Classä¸­æ‰€æœ‰çš„æˆå‘˜å˜é‡å¿…é¡»æœ‰åˆå§‹å€¼ã€‚å¹¶ä¸”è¯¥èµ‹å€¼è¡Œä¸ºå¿…é¡»è¦åœ¨è°ƒç”¨çˆ¶ç±»çš„æŒ‡å®šæž„é€ å™¨ä¹‹å‰(å¦‚æžœæœ‰çˆ¶ç±»ï¼Œæœ¬ç¤ºä¾‹æ²¡æœ‰)
        self.name = name
        self.age = 10
    }
    // åœ¨å£°æ˜Žè¿™ä¸ªå˜é‡æ—¶å¯ä»¥ä¸èµ‹åˆå§‹å€¼ï¼Œä½†æ˜¯åœ¨æŒ‡å®šæž„é€ å™¨ä¸­å¿…é¡»ç»™å®ƒèµ‹å€¼ï¼Œå¦åˆ™ä¼šæŠ¥é”™
    var age: Int
    
    // å­˜å‚¨å±žæ€§ã€‚ç”¨äºŽå­˜å‚¨å€¼ã€‚è¿™ä¸ªå˜é‡èµ‹äº†åˆå§‹å€¼ï¼Œåœ¨æŒ‡å®šæž„é€ å™¨ä¸­å¯ä»¥é€‰æ‹©æ€§çš„ç»™å®ƒèµ‹å€¼
    var name = ""
    
    // ç§æœ‰å˜é‡ï¼Œå­ç±»æ— æ³•ç»§æ‰¿
    private var six: Int = 0
    
    // å¸¸é‡
    let tag = 10
    
    // ä¾¿åˆ©æž„é€ å™¨ ä½¿ç”¨convenienceå…³é”®å­—ä¿®é¥°
    convenience init(pram: String) {
        // å¿…é¡»è°ƒç”¨æœ¬ç±»çš„ä»»æ„ä¸€ä¸ªæž„é€ å™¨ã€‚
        self.init(name: pram)
    }
    
    // è®¡ç®—å±žæ€§å¯ä»¥ç”¨äºŽç±»ã€ç»“æž„ä½“å’Œæžšä¸¾; å­˜å‚¨å±žæ€§åªèƒ½ç”¨äºŽç±»å’Œç»“æž„ä½“ã€‚
    
    // è®¡ç®—å±žæ€§ã€‚å¿…é¡»ç”¨varå…³é”®å­—å£°æ˜Žï¼Œå¿…é¡»å£°æ˜Žå±žæ€§çš„ç±»åž‹ï¼Œå¦‚æžœæƒ³è¦ä¿®æ”¹å±žæ€§çš„å€¼å¿…é¡»å†™setæ–¹æ³•
    // è®¡ç®—å±žæ€§ä¸ç›´æŽ¥å­˜å‚¨å€¼ï¼Œè€Œæ˜¯æä¾›ä¸€ä¸ªget å¯é€‰setæ–¹æ³•æ¥é—´æŽ¥èŽ·å– or è®¾ç½®å…¶ä»–å±žæ€§æˆ–å˜é‡çš„å€¼
    var heartbeat: Int {        // è®¡ç®—å±žæ€§ï¼Œåªè¯»ã€‚å½“åªæœ‰getæ—¶å¯çœç•¥getæ–¹æ³•ï¼Œç›´æŽ¥return
        return 60
    }
    
    // è®¡ç®—å±žæ€§ï¼Œå¯è¯»å¯å†™
    var food: String {
        set {
            print("set\(newValue)")
            if newValue == "ðŸ¦´" {
                name = "ðŸ¶"
            }
        }
        get {
            return "é£Ÿç‰©"
        }
    }
    // ä¸Šé¢è¯´åˆ°setï¼Œå»¶ä¼¸ä¸€ç‚¹ã€‚å±žæ€§è§‚å¯Ÿå™¨: willSetã€didSetã€‚å½“ä½ ç»™ä¸€ä¸ªå­˜å‚¨å±žæ€§èµ‹å€¼æ—¶è¿™ä¸¤ä¸ªæ–¹æ³•çš„ä¾æ¬¡è°ƒç”¨
    var home: String = "" {
        willSet {
            print("å°†è¦è®¾ç½®testçš„å€¼ä¸º: \(newValue)")
        }
        didSet {
            print("å·²ç»è®¾ç½®testçš„å€¼ä¸º: \(home)")
        }
    }
    
    // æ‡’åŠ è½½ã€‚æŒ‡å½“ç¬¬ä¸€æ¬¡è°ƒç”¨çš„æ—¶å€™æ‰ä¼šå¯¹å…¶è¿›è¡Œåˆå§‹åŒ–ï¼Œç„¶åŽå†åœ¨å†…å­˜ä¸­å¼€è¾Ÿå…¶æŒ‡é’ˆçš„å­˜æ”¾ç©ºé—´ï¼Œã€‚è¯­æ³•: ä½¿ç”¨lazyå…³é”®å­—ä¿®é¥°ï¼Œå¿…é¡»ä½¿ç”¨varå£°æ˜Ž
    // å¯ä»¥åœ¨å£°æ˜Žæ—¶ç›´æŽ¥èµ‹åˆå§‹å€¼
    lazy var testLazy = String("hello")
    // ä¹Ÿå¯ä»¥ä½¿ç”¨é—­åŒ…çš„å½¢å¼è¿›è¡Œåˆå§‹åŒ–
    lazy var testLazy1: String = {
        let str = "hello"
        return str
    }()
    
    // å®žä¾‹åŒ–æ–¹æ³•ï¼Œé€šè¿‡å®žä¾‹å¯¹è±¡è°ƒç”¨
    func eat() {
        print("eatting")
    }
    
    // ç±»æ–¹æ³•ï¼Œæœ‰çš„è¯­è¨€ä¹Ÿå«é™æ€æ–¹æ³•ã€‚ä½¿ç”¨staticå…³é”®å­—ä¿®é¥°ã€‚é€šè¿‡ç±»åè°ƒç”¨
    static func staticEat() {
        print("static eatting")
    }
    
    // selfå±žæ€§ã€‚ç±»åž‹çš„æ¯ä¸€ä¸ªå®žä¾‹éƒ½æœ‰ä¸€ä¸ªéšå«å±žæ€§å«selfï¼Œselfå®Œå…¨ç­‰åŒäºŽè¯¥å®žä¾‹æœ¬èº«ã€‚
    fileprivate func testSelf() {
        print(self.food)               // ä¸€èˆ¬æƒ…å†µä¸‹ä¸ä½¿ç”¨selfï¼Œé™¤éžç‰¹å®šæƒ…å†µï¼Œå¦‚é—­åŒ…å†…ã€‚
    }
    
}

// å®žä¾‹åŒ–ä¸€ä¸ªAnimalå®žä¾‹å¯¹è±¡
let animal = Animal(name: "æ—ºè´¢")         // è¿™æ˜¯è°ƒç”¨äº†æˆ‘ä»¬è‡ªå®šä¹‰çš„init(name: String)ï¼Œç›´æŽ¥ç”¨()ï¼Œçœç•¥äº†init
print(animal.food)                  // é£Ÿç‰©
animal.food = "ðŸ¦´"
animal.home = "hello"
print(animal.home)                  // hello
print(animal.food)                 // ðŸ¦´
print(animal.name)                // ðŸ¶
print(animal.testLazy1)         // hello
animal.eat()                        // eatting
Animal.staticEat()                        // static eatting

/// ç±»çš„ç»§æ‰¿
//class ClassName: SuperClass {
//
//}
class Dog: Animal {
    
    // ç±»çš„ç»§æ‰¿ï¼Œä½¿ç”¨overrideå…³é”®å­—ä¿®é¥°ã€‚å­ç±»èƒ½å¤Ÿä»Žçˆ¶ç±»é‚£é‡Œç»§æ‰¿åˆ°:
    // ä¸€ã€æŒ‡å®šæž„é€ å™¨
    // é¦–å…ˆï¼Œæž„é€ å™¨é»˜è®¤æ˜¯ä¸ç»§æ‰¿çš„ï¼Œå¦‚æžœå­ç±»ä¸­å®žçŽ°äº†è‡ªå®šä¹‰çš„æŒ‡å®šæž„é€ å™¨ï¼Œé‚£ä¹ˆå°±å¯ä»¥ä¸ç”¨ç»§æ‰¿çˆ¶ç±»çš„æŒ‡å®šæž„é€ å™¨; å¦‚æžœæ²¡æœ‰å®šä¹‰æŒ‡å®šæž„é€ å™¨ï¼Œé‚£ä¹ˆå°±ä¼šè‡ªåŠ¨ç»§æ‰¿çˆ¶ç±»æ‰€æœ‰çš„æŒ‡å®šæž„é€ å™¨
    init(name: String, breed: String) {
        self.breed = breed
        // åœ¨å­ç±»çš„æŒ‡å®šæž„é€ å™¨ä¸­å¿…é¡»è°ƒç”¨çˆ¶ç±»çš„æŒ‡å®šæž„é€ å™¨ã€‚ä¸”åœ¨è°ƒç”¨çˆ¶ç±»çš„æŒ‡å®šæž„é€ å™¨å‰ï¼Œå¿…é¡»è¦ç¡®ä¿è¿™ä¸ªç±»çš„æˆå‘˜å˜é‡å¿…é¡»å¾—æœ‰å€¼ï¼Œä¹Ÿå°±æ˜¯ç»™æœ¬ç±»çš„æˆå‘˜å˜é‡èµ‹åˆå§‹å€¼çš„è¡Œä¸ºå¿…é¡»åœ¨è°ƒç”¨çˆ¶ç±»æž„é€ å™¨ä¹‹å‰
        super.init(name: name)
    }
    var breed: String
    
    // é‡å†™ã€‚ä½¿ç”¨overrideå…³é”®å­—ä¿®é¥°
    // é‡å†™çˆ¶ç±»çš„æž„é€ å™¨
//    override init(name: String) {
//        breed = ""
//        super.init(name: name)
//    }
    
    // äºŒã€è®¡ç®—å±žæ€§
    override var home: String {
        set {
            print(newValue)
        }
        get {
            return "China"
        }
    }
    
    // ä¸‰ã€å­˜å‚¨å±žæ€§ã€‚ç¡®åˆ‡çš„è¯´æ˜¯ç»§æ‰¿äº†å­˜å‚¨å±žæ€§çš„å±žæ€§è§‚å¯Ÿå™¨
    // åœ¨çˆ¶ç±»ä¸­çš„nameå±žæ€§ä¸‹æˆ‘ä»¬å¹¶æ²¡æœ‰ä¸ºå…¶æ·»åŠ å±žæ€§è§‚å¯Ÿå™¨ï¼Œè¿™é‡Œ å´å¯ä»¥ç»§æ‰¿å¾—åˆ°ï¼Œè¿™å°±è¯´æ˜Žç³»ç»Ÿæ˜¯é»˜è®¤ä¸ºå­˜å‚¨å±žæ€§æ·»åŠ äº†å±žæ€§è§‚å¯Ÿå™¨ï¼Œä½†æ˜¯æ²¡æœ‰åšä»»ä½•å®žçŽ°
    override var name: String {
        willSet {
            print("å­ç±»çš„willSet")
        }
        didSet {
            print("å­ç±»çš„didSet")
        }
    }
    
    // å››ã€æ–¹æ³•
    override func eat() {
        // å¯ä»¥è°ƒç”¨çˆ¶ç±»çš„eatæ–¹æ³•å®žçŽ°ä¸è¦†ç›–çˆ¶ç±»æ–¹æ³•å®žçŽ°çš„æƒ…å†µä¸‹ï¼Œè‡ªå®šä¹‰è‡ªå·±çš„æ–¹æ³•å®žçŽ°ã€‚å¦‚æžœä¸è°ƒç”¨çˆ¶ç±»çš„eatæ–¹æ³•åˆ™çˆ¶ç±»çš„eatæ–¹æ³•å®žçŽ°ä¼šè¢«è¦†ç›–ã€‚
        super.eat()
        print("å­ç±»çš„eatæ–¹æ³•")
    }
    
    // å¦‚æžœä½ ä¸æƒ³æŸä¸ªè®¡ç®—å±žæ€§ã€å­˜å‚¨å±žæ€§ã€æ–¹æ³•ã€æž„é€ å™¨(æž„é€ æ–¹æ³•)å¯ä»¥è¢«å­ç±»é‡å†™ï¼Œé‚£ä¹ˆä½ å¯ä»¥åœ¨å…¶ä¹‹å‰åŠ ä¸Šfinalå…³é”®å­—ï¼Œé˜²æ­¢å­ç±»é‡å†™
//    final func tests() {
//
//    }
    func myFunction() {
        // æ²¡åŠ finalå…³é”®å­—æ—¶åœ¨ ä¸‹é¢çš„å­ç±»ä¸­è¾“å…¥myFunctionæœ‰é¢„é€‰é¡¹èƒ½é‡å†™ï¼ŒåŠ ä¸ŠåŽå°±æ— æ³•é‡å†™äº†ã€‚
        print("dog function")
    }
    
    // å¦‚æžœä½ æƒ³æŸä¸ªæž„é€ å™¨(æž„é€ æ–¹æ³•)å¿…é¡»è¢«å­ç±»é‡å†™ï¼Œé‚£ä¹ˆä½ å¯ä»¥åœ¨å…¶ä¹‹å‰åŠ ä¸Šrequiredå…³é”®å­—ï¼Œå­ç±»ä¸é‡å†™å°±ä¼šæŠ¥é”™ã€‚
    // æ³¨æ„ã€‚requiredå…³é”®å­—åªèƒ½ç”¨åœ¨æž„é€ å™¨ä¸Š
//    required init(naaaame: String) {
//        self.breed = ""
//        super.init(name: naaaame)
//    }
    
    // deinitã€‚ä¸‡ç‰©æœ‰ç”Ÿæˆå¿…ç„¶æœ‰æ¶ˆé€ï¼Œdeinitæ–¹æ³•å°±æ˜¯initæž„é€ å™¨çš„å¯¹ç«‹ã€‚åœ¨è¿™ä¸ªç±»çš„å®žä¾‹è¢«é‡Šæ”¾ä¹‹å‰ä¼šè°ƒç”¨ã€‚åæž„é€ 
    deinit {
        
    }
    
}

class TianYuanDog: Dog {
    override func myFunction() {
        super.myFunction()          // è°ƒç”¨çˆ¶ç±»çš„myFunctionï¼Œè¿™æ ·å°±ä¸ä¼šè¦†ç›–çˆ¶ç±»çš„æ–¹æ³•å®žçŽ°ã€‚ä¹Ÿå¯ä»¥ä¸è°ƒç”¨ï¼Œç›´æŽ¥è¦†ç›–
        print("TianYuanDog function")
    }
}
let tyDog = TianYuanDog(name: "", breed: "")            // è‡ªåŠ¨ç»§æ‰¿äº†çˆ¶ç±»çš„æŒ‡å®šæž„é€ å™¨
tyDog.myFunction()          // è¾“å‡º dog function -> TianYuanDog function

